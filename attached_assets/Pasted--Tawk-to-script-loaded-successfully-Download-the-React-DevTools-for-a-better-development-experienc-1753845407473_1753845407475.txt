 Tawk.to script loaded successfully
 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
 🎛️ [FRONTEND CONTROLS] Loaded: undefined
 🎛️ [VISIBILITY] Discount Banner: false AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 0 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
api/customers/me:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
api/customers/me:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 🎛️ [FRONTEND CONTROLS] Loaded: undefined
 🎛️ [VISIBILITY] Discount Banner: false AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 0 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🎛️ [FRONTEND CONTROLS] Loaded: undefined
 🎛️ [VISIBILITY] Discount Banner: false AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 0 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 Auth check result: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 
value @ twk-chunk-common.js:2
 Tawk.to Live Chat loaded successfully
api/customers/me:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 Auth check result: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 Cart clicked, total items: 1
 Customer: null
 User not logged in, showing pre-checkout modal
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🔐 [LOGIN] Login choice selected
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
api/customers/login:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
api/customers/login:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 Auth check result: Object
api/customers/login:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
api/customers/me:1  Failed to load resource: the server responded with a status of 401 (Unauthorized)
 Auth check result: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🔐 [LOGIN] Starting handleLoginSuccess
 🔐 [LOGIN] Customer data: Object
 🔐 [LOGIN] Current cart state: Object
 🔐 [LOGIN] Customer state set
 🔐 [LOGIN] Wallet balance fetch initiated
 🔐 [LOGIN] Auth modal closed
 🔐 [LOGIN] Cache invalidated
 🔐 [LOGIN] Has cart items: true
 🔐 [LOGIN] Cart contents: Object
 🔐 [LOGIN] Cart migration completed
 🔐 [LOGIN] Welcome toast shown
 🔐 [LOGIN] Staying in shop after successful login
 🔐 [LOGIN] handleLoginSuccess completed successfully
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 Cart clicked, total items: 1
 Customer: Object
 User is logged in, showing checkout
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 💳 [WALLET QUERY] Enabled check: Object
 🔥 [BILINGUAL FORM] Cart flammable check result: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [BILINGUAL FORM] Fetching shipping rates with flammable filtering... Object
 === BilingualPurchaseForm Address Debug ===
 existingCustomer from parent: Object
 customerData from API: Object
 crmCustomerData from API: undefined
 isLoadingCustomer: false
 Using existingCustomer from parent
 Customer object found: Object
 Customer firstName: ABAS
 Customer lastName: ABASI
 Customer phone: 09124955173
 Customer address: NAGwer Road, Qaryataq Village
 Customer secondaryAddress: undefined
 Customer city: undefined
 Customer country: Iraq
 Customer postalCode: undefined
 Full name constructed: ABAS ABASI
 🏠 [ADDRESS DEBUG] Enhanced address mapping result: Object
 Form data to reset: Object
 Form reset completed
 === End BilingualPurchaseForm Debug ===
 🚚 Shipping cost calculation: Object
 🔄 No shipping method selected or no data, resetting cost
 Shipping rates state: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 CRM Customer API response: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 === BilingualPurchaseForm Address Debug ===
 existingCustomer from parent: Object
 customerData from API: Object
 crmCustomerData from API: Object
 isLoadingCustomer: false
 Using CRM customer data (most complete)
 Customer object found: Object
 Customer firstName: ABAS
 Customer lastName: ABASI
 Customer phone: 09124955173
 Customer address: NAGwer Road, Qaryataq Village
 Customer secondaryAddress: NAGwer Road, Qaryataq Village, Erbil, Iraq
 Customer city: undefined
 Customer country: Iraq
 Customer postalCode: 196891375
 Full name constructed: ABAS ABASI
 🏠 [ADDRESS DEBUG] Enhanced address mapping result: Object
 Form data to reset: Object
 Form reset completed
 === End BilingualPurchaseForm Debug ===
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 💰 [VAT] Tax settings API response: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 📦 [BILINGUAL FORM] Raw shipping rates API response: Object
 ✅ [BILINGUAL FORM] Successfully loaded shipping rates: 2 methods
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 Shipping cost calculation: Object
 🔄 No shipping method selected or no data, resetting cost
 Shipping rates state: Object
 🚚 [AUTO SELECT] Auto-selecting smart vehicle method: 32
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 Shipping cost calculation: Object
 📦 Selected shipping rate: Object
 ✅ SPECIAL DELIVERY METHOD: Zero cost for smart_vehicle
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] Calculating cost for: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] API response: Object
 ❌ [SMART DELIVERY] Invalid optimalVehicle data: undefined
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:770
 ❌ [SMART DELIVERY] Calculation error: 
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:777
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🔥 [BILINGUAL FORM] Cart flammable check result: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] Calculating cost for: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] API response: Object
 ❌ [SMART DELIVERY] Invalid optimalVehicle data: undefined
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:770
 ❌ [SMART DELIVERY] Calculation error: Error: داده‌های وسیله نقلیه بهینه دریافت نشد
    at calculateSmartDeliveryCost (src/components/bilingual-purchase-form.tsx:771:17)
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:777
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🔥 [BILINGUAL FORM] Cart flammable check result: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
api/admin/me:1  Failed to load resource: the server responded with a status of 500 (Internal Server Error)
 Auth check failed: Error: HTTP 500
    at queryFn (src/hooks/useAuth.ts:33:17)
queryFn @ src/hooks/useAuth.ts:39
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] Calculating cost for: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] API response: Object
 ❌ [SMART DELIVERY] Invalid optimalVehicle data: undefined
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:770
 ❌ [SMART DELIVERY] Calculation error: Error: داده‌های وسیله نقلیه بهینه دریافت نشد
    at calculateSmartDeliveryCost (src/components/bilingual-purchase-form.tsx:771:17)
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:777
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🔥 [BILINGUAL FORM] Cart flammable check result: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
api/admin/me:1  Failed to load resource: the server responded with a status of 500 (Internal Server Error)
 Auth check failed: Error: HTTP 500
    at queryFn (src/hooks/useAuth.ts:33:17)
queryFn @ src/hooks/useAuth.ts:39
 CRM Customer API response: Object
 💰 [VAT] Tax settings API response: Object
 🚚 [SMART DELIVERY] Calculating cost for: Object
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🚚 [SMART DELIVERY] API response: Object
 ❌ [SMART DELIVERY] Invalid optimalVehicle data: undefined
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:770
 ❌ [SMART DELIVERY] Calculation error: Error: داده‌های وسیله نقلیه بهینه دریافت نشد
    at calculateSmartDeliveryCost (src/components/bilingual-purchase-form.tsx:771:17)
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:777
 💰 [PURCHASE FORM] Tax calculation: Object
 💳 [WALLET DEBUG] Complete wallet analysis: Object
 🎛️ [FRONTEND CONTROLS] Loaded: Object
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: Object
 🌟 [RATINGS DEBUG] Current products: Array(6)
 🌟 [RATINGS DEBUG] Products with ratings: Array(3)
 🎛️ [FRONTEND CONTROLS] Loaded: {success: true, data: {…}}
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: {1: {…}, 25: {…}, 472: {…}, 474: {…}, 475: {…}, 477: {…}}
 🌟 [RATINGS DEBUG] Current products: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
 🌟 [RATINGS DEBUG] Products with ratings: (3) [{…}, {…}, {…}]
 Cart clicked, total items: 1
 Customer: {id: 8, firstName: 'ABAS', lastName: 'ABASI', email: 'oilstar@hotmail.com', company: 'پتروشیمی شازند', …}
 User is logged in, showing checkout
 🎛️ [FRONTEND CONTROLS] Loaded: {success: true, data: {…}}
 🎛️ [VISIBILITY] Discount Banner: true AI Features: false
 🌟 [RATINGS DEBUG] Product stats loaded: 6 products with ratings
 🌟 [RATINGS DEBUG] Product stats data: {1: {…}, 25: {…}, 472: {…}, 474: {…}, 475: {…}, 477: {…}}
 🌟 [RATINGS DEBUG] Current products: (6) [{…}, {…}, {…}, {…}, {…}, {…}]
 🌟 [RATINGS DEBUG] Products with ratings: (3) [{…}, {…}, {…}]
 💳 [WALLET QUERY] Enabled check: {existingCustomer: true, customerDataSuccess: true, enabled: true}
 🔥 [BILINGUAL FORM] Cart flammable check result: {containsFlammableProducts: false, cartItems: 1, totalQuantity: 1}
 💰 [PURCHASE FORM] Tax calculation: {vatData: {…}, vatRate: 0, dutiesRate: 0, subtotalAmount: 11.01, vatAmount: 0, …}
 💳 [WALLET DEBUG] Complete wallet analysis: {walletData: {…}, walletBalance: 45453519.67, canUseWallet: {…}, totalAmount: 11.01, existingCustomer: true, …}
 === BilingualPurchaseForm Address Debug ===
 existingCustomer from parent: {id: 8, firstName: 'ABAS', lastName: 'ABASI', email: 'oilstar@hotmail.com', company: 'پتروشیمی شازند', …}
 customerData from API: {success: true, customer: {…}}
 crmCustomerData from API: {id: 8, email: 'oilstar@hotmail.com', passwordHash: '$2b$10$CIFD47Mc2MoOhyIBaJ0Akue8uU1eCqoO4rjBfUMz5IBCKBdE14vcW', firstName: 'ABAS', lastName: 'ABASI', …}
 isLoadingCustomer: false
 Using CRM customer data (most complete)
 Customer object found: {id: 8, email: 'oilstar@hotmail.com', passwordHash: '$2b$10$CIFD47Mc2MoOhyIBaJ0Akue8uU1eCqoO4rjBfUMz5IBCKBdE14vcW', firstName: 'ABAS', lastName: 'ABASI', …}
 Customer firstName: ABAS
 Customer lastName: ABASI
 Customer phone: 09124955173
 Customer address: NAGwer Road, Qaryataq Village
 Customer secondaryAddress: NAGwer Road, Qaryataq Village, Erbil, Iraq
 Customer city: undefined
 Customer country: Iraq
 Customer postalCode: 196891375
 Full name constructed: ABAS ABASI
 🏠 [ADDRESS DEBUG] Enhanced address mapping result: {originalCustomer: {…}, mappedAddress: 'NAGwer Road, Qaryataq Village', mappedCity: 'کربلا', mappedProvince: 'کربلا', addressSources: {…}, …}
 Form data to reset: {customerName: 'ABAS ABASI', phone: '09124955173', address: 'NAGwer Road, Qaryataq Village', city: 'کربلا', country: 'Iraq', …}
 Form reset completed
 === End BilingualPurchaseForm Debug ===
 🚚 Shipping cost calculation: {selectedShippingMethod: null, hasShippingData: true, subtotalAmount: '11.01'}
 🔄 No shipping method selected or no data, resetting cost
 Shipping rates state: {isLoadingShippingRates: false, shippingRatesError: null, dataLength: 2, data: Array(2)}
 🚚 [AUTO SELECT] Auto-selecting smart vehicle method: 32
 💰 [PURCHASE FORM] Tax calculation: {vatData: {…}, vatRate: 0, dutiesRate: 0, subtotalAmount: 11.01, vatAmount: 0, …}
 💳 [WALLET DEBUG] Complete wallet analysis: {walletData: {…}, walletBalance: 45453519.67, canUseWallet: {…}, totalAmount: 11.01, existingCustomer: true, …}
 🚚 Shipping cost calculation: {selectedShippingMethod: 32, hasShippingData: true, subtotalAmount: '11.01'}
 📦 Selected shipping rate: {id: 32, deliveryMethod: 'smart_vehicle', transportationType: 'smart', cityName: null, provinceName: null, …}
 ✅ SPECIAL DELIVERY METHOD: Zero cost for smart_vehicle
 💰 [PURCHASE FORM] Tax calculation: {vatData: {…}, vatRate: 0, dutiesRate: 0, subtotalAmount: 11.01, vatAmount: 0, …}
 💳 [WALLET DEBUG] Complete wallet analysis: {walletData: {…}, walletBalance: 45453519.67, canUseWallet: {…}, totalAmount: 11.01, existingCustomer: true, …}
 🚚 [SMART DELIVERY] Calculating cost for: {weight: 11.01, city: 'کربلا', province: 'کربلا', cartItems: 1}
 💰 [PURCHASE FORM] Tax calculation: {vatData: {…}, vatRate: 0, dutiesRate: 0, subtotalAmount: 11.01, vatAmount: 0, …}
 💳 [WALLET DEBUG] Complete wallet analysis: {walletData: {…}, walletBalance: 45453519.67, canUseWallet: {…}, totalAmount: 11.01, existingCustomer: true, …}
 🚚 [SMART DELIVERY] API response: {success: true, data: {…}}
 ❌ [SMART DELIVERY] Invalid optimalVehicle data: undefined
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:770
await in calculateSmartDeliveryCost
(anonymous) @ src/components/bilin…rchase-form.tsx:791
setTimeout
(anonymous) @ src/components/bilin…rchase-form.tsx:790
commitHookEffectListMount @ @fs/home/runner/work…js?v=815b1335:16915
commitPassiveMountOnFiber @ @fs/home/runner/work…js?v=815b1335:18156
commitPassiveMountEffects_complete @ @fs/home/runner/work…js?v=815b1335:18129
commitPassiveMountEffects_begin @ @fs/home/runner/work…js?v=815b1335:18119
commitPassiveMountEffects @ @fs/home/runner/work…js?v=815b1335:18109
flushPassiveEffectsImpl @ @fs/home/runner/work…js?v=815b1335:19490
flushPassiveEffects @ @fs/home/runner/work…js?v=815b1335:19447
performSyncWorkOnRoot @ @fs/home/runner/work…js?v=815b1335:18868
flushSyncCallbacks @ @fs/home/runner/work….js?v=815b1335:9119
commitRootImpl @ @fs/home/runner/work…js?v=815b1335:19432
commitRoot @ @fs/home/runner/work…js?v=815b1335:19277
finishConcurrentRender @ @fs/home/runner/work…js?v=815b1335:18805
performConcurrentWorkOnRoot @ @fs/home/runner/work…js?v=815b1335:18718
workLoop @ @fs/home/runner/work…N.js?v=815b1335:197
flushWork @ @fs/home/runner/work…N.js?v=815b1335:176
performWorkUntilDeadline @ @fs/home/runner/work…N.js?v=815b1335:384
 ❌ [SMART DELIVERY] Calculation error: Error: داده‌های وسیله نقلیه بهینه دریافت نشد
    at calculateSmartDeliveryCost (src/components/bilin…ase-form.tsx:771:17)
calculateSmartDeliveryCost @ src/components/bilin…rchase-form.tsx:777
await in calculateSmartDeliveryCost
(anonymous) @ src/components/bilin…rchase-form.tsx:791
setTimeout
(anonymous) @ src/components/bilin…rchase-form.tsx:790
commitHookEffectListMount @ @fs/home/runner/work…js?v=815b1335:16915
commitPassiveMountOnFiber @ @fs/home/runner/work…js?v=815b1335:18156
commitPassiveMountEffects_complete @ @fs/home/runner/work…js?v=815b1335:18129
commitPassiveMountEffects_begin @ @fs/home/runner/work…js?v=815b1335:18119
commitPassiveMountEffects @ @fs/home/runner/work…js?v=815b1335:18109
flushPassiveEffectsImpl @ @fs/home/runner/work…js?v=815b1335:19490
flushPassiveEffects @ @fs/home/runner/work…js?v=815b1335:19447
performSyncWorkOnRoot @ @fs/home/runner/work…js?v=815b1335:18868
flushSyncCallbacks @ @fs/home/runner/work….js?v=815b1335:9119
commitRootImpl @ @fs/home/runner/work…js?v=815b1335:19432
commitRoot @ @fs/home/runner/work…js?v=815b1335:19277
finishConcurrentRender @ @fs/home/runner/work…js?v=815b1335:18805
performConcurrentWorkOnRoot @ @fs/home/runner/work…js?v=815b1335:18718
workLoop @ @fs/home/runner/work…N.js?v=815b1335:197
flushWork @ @fs/home/runner/work…N.js?v=815b1335:176
performWorkUntilDeadline @ @fs/home/runner/work…N.js?v=815b1335:384
 💰 [PURCHASE FORM] Tax calculation: {vatData: {…}, vatRate: 0, dutiesRate: 0, subtotalAmount: 11.01, vatAmount: 0, …}
 💳 [WALLET DEBUG] Complete wallet analysis: {walletData: {…}, walletBalance: 45453519.67, canUseWallet: {…}, totalAmount: 11.01, existingCustomer: true, …}
