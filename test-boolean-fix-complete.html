<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Boolean Fields</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: rtl;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #2d3748;
        }
        .test-section {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .test-title {
            color: #2b6cb0;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .test-button {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.3);
        }
        .result {
            background: #edf2f7;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
        }
        .success { color: #38a169; }
        .error { color: #e53e3e; }
        .warning { color: #d69e2e; }
        .info { color: #3182ce; }
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin: 2px;
        }
        .status-success { background: #c6f6d5; color: #2f855a; }
        .status-error { background: #fed7d7; color: #c53030; }
        .status-warning { background: #fef5e7; color: #d69e2e; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Boolean Fields</h1>
            <p>Ø¢Ø²Ù…Ø§ÛŒØ´ Ø¹Ù…Ù„Ú©Ø±Ø¯ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Boolean Ø¯Ø± ÙØ±Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ Ø³ÛŒØ³ØªÙ… Ø§ÛŒÙ…Ù†ÛŒ</p>
        </div>

        <div class="test-section">
            <div class="test-title">
                ğŸ” 1. ØªØ³Øª ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ù…Ø­ØµÙˆÙ„ Solvant 402
            </div>
            <button class="test-button" onclick="testCurrentProduct()">
                Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Boolean Fields
            </button>
            <div id="currentProductResult" class="result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">
                ğŸ”¥ 2. ØªØ³Øª Ø³ÛŒØ³ØªÙ… ØªØ´Ø®ÛŒØµ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§
            </div>
            <button class="test-button" onclick="testFlammableDetection()">
                ØªØ³Øª Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§
            </button>
            <div id="flammableResult" class="result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">
                ğŸšš 3. ØªØ³Øª Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø­Ù…Ù„ Ø¨Ø§ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§
            </div>
            <button class="test-button" onclick="testDeliveryCostFlammable()">
                Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø­Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§
            </button>
            <div id="deliveryCostResult" class="result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">
                âœ… 4. ØªØ³Øª Ú©Ø§Ù…Ù„ End-to-End
            </div>
            <button class="test-button" onclick="runCompleteTest()">
                Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ú©Ø§Ù…Ù„
            </button>
            <div id="completeTestResult" class="result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">
                ğŸ“Š 5. Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ
            </div>
            <div id="finalResults" class="result">
                <span class="info">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªØ§ÛŒØ¬ØŒ ØªØ³Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯</span>
            </div>
        </div>
    </div>

    <script>
        let testResults = {
            currentProduct: null,
            flammableDetection: null,
            deliveryCost: null,
            endToEnd: null
        };

        async function makeRequest(url, options = {}) {
            try {
                const response = await fetch(url, {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error('Request failed:', error);
                throw error;
            }
        }

        async function testCurrentProduct() {
            const resultDiv = document.getElementById('currentProductResult');
            resultDiv.innerHTML = '<span class="info">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­ØµÙˆÙ„ Solvant 402...</span>';
            
            try {
                // Get all products
                const products = await makeRequest('/api/products');
                
                // Find Solvant 402
                const solvant402 = products.find(p => p.name.includes('Solvant 402'));
                
                if (!solvant402) {
                    throw new Error('Ù…Ø­ØµÙˆÙ„ Solvant 402 ÛŒØ§ÙØª Ù†Ø´Ø¯');
                }
                
                const result = {
                    productId: solvant402.id,
                    productName: solvant402.name,
                    isFlammable: solvant402.isFlammable,
                    isNonChemical: solvant402.isNonChemical,
                    syncWithShop: solvant402.syncWithShop,
                    showWhenOutOfStock: solvant402.showWhenOutOfStock,
                    isActive: solvant402.isActive
                };
                
                testResults.currentProduct = { success: true, data: result };
                
                resultDiv.innerHTML = `
<span class="success">âœ… Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ø´Ø¯</span>

ğŸ” <strong>Ø¬Ø²Ø¦ÛŒØ§Øª Boolean Fields:</strong>
â€¢ Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„: ${result.productName}
â€¢ Ø´Ù†Ø§Ø³Ù‡: ${result.productId}
â€¢ Ø¢ØªØ´â€ŒØ²Ø§: ${result.isFlammable ? 'ğŸ”¥ Ø¨Ù„Ù‡' : 'â„ï¸ Ø®ÛŒØ±'}
â€¢ ØºÛŒØ± Ø´ÛŒÙ…ÛŒØ§ÛŒÛŒ: ${result.isNonChemical ? 'ğŸŒ¿ Ø¨Ù„Ù‡' : 'ğŸ§ª Ø®ÛŒØ±'}  
â€¢ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± ÙØ±ÙˆØ´Ú¯Ø§Ù‡: ${result.syncWithShop ? 'ğŸ‘ï¸ Ø¨Ù„Ù‡' : 'ğŸ™ˆ Ø®ÛŒØ±'}
â€¢ Ù†Ù…Ø§ÛŒØ´ Ù‡Ù†Ú¯Ø§Ù… Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯: ${result.showWhenOutOfStock ? 'ğŸ“¦ Ø¨Ù„Ù‡' : 'ğŸš« Ø®ÛŒØ±'}
â€¢ ÙØ¹Ø§Ù„: ${result.isActive ? 'âœ… Ø¨Ù„Ù‡' : 'âŒ Ø®ÛŒØ±'}

<span class="success">ğŸ“‹ Boolean fields Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø®ÙˆØ§Ù†Ø¯Ù‡ Ø´Ø¯</span>
                `;
                
            } catch (error) {
                testResults.currentProduct = { success: false, error: error.message };
                resultDiv.innerHTML = `<span class="error">âŒ Ø®Ø·Ø§: ${error.message}</span>`;
            }
        }

        async function testFlammableDetection() {
            const resultDiv = document.getElementById('flammableResult');
            resultDiv.innerHTML = '<span class="info">Ø¯Ø± Ø­Ø§Ù„ ØªØ³Øª Ø³ÛŒØ³ØªÙ… ØªØ´Ø®ÛŒØµ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§...</span>';
            
            try {
                // Create a test cart with Solvant 402
                const testCart = [
                    {
                        product: {
                            id: 28,
                            name: "Solvant 402",
                            isFlammable: true,
                            weightKg: 25
                        },
                        quantity: 1
                    }
                ];
                
                // Test delivery cost calculation
                const deliveryCostRequest = {
                    cart: testCart,
                    destination: {
                        city: "Ø§Ø±Ø¨ÛŒÙ„",
                        province: "Ø§Ø±Ø¨ÛŒÙ„"
                    }
                };
                
                const deliveryResult = await makeRequest('/api/calculate-delivery-cost', {
                    method: 'POST',
                    body: JSON.stringify(deliveryCostRequest)
                });
                
                testResults.flammableDetection = { success: true, data: deliveryResult };
                
                const containsFlammable = deliveryResult.containsFlammableProducts || false;
                const selectedMethod = deliveryResult.selectedMethod || 'Ù†Ø§Ù…Ø´Ø®Øµ';
                const totalCost = deliveryResult.totalCost || 0;
                
                resultDiv.innerHTML = `
<span class="success">âœ… Ø³ÛŒØ³ØªÙ… ØªØ´Ø®ÛŒØµ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§ ÙØ¹Ø§Ù„ Ø§Ø³Øª</span>

ğŸ”¥ <strong>Ù†ØªØ§ÛŒØ¬ ØªØ´Ø®ÛŒØµ:</strong>
â€¢ ØªØ´Ø®ÛŒØµ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§: ${containsFlammable ? 'ğŸ”¥ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯' : 'â„ï¸ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù†Ø´Ø¯'}
â€¢ Ø±ÙˆØ´ Ø­Ù…Ù„ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ: ${selectedMethod}
â€¢ Ù‡Ø²ÛŒÙ†Ù‡ Ú©Ù„: ${totalCost.toLocaleString()} Ø¯ÛŒÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÛŒ
â€¢ Ù…Ù‚ØµØ¯: Ø§Ø±Ø¨ÛŒÙ„
â€¢ ÙˆØ²Ù†: 25 Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…

${containsFlammable ? 
    '<span class="success">ğŸ¯ Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§ Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ú©Ø±Ø¯</span>' : 
    '<span class="error">âš ï¸ Ø³ÛŒØ³ØªÙ… Ù†ØªÙˆØ§Ù†Ø³Øª Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§ Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ú©Ù†Ø¯</span>'
}
                `;
                
            } catch (error) {
                testResults.flammableDetection = { success: false, error: error.message };
                resultDiv.innerHTML = `<span class="error">âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª ØªØ´Ø®ÛŒØµ: ${error.message}</span>`;
            }
        }

        async function testDeliveryCostFlammable() {
            const resultDiv = document.getElementById('deliveryCostResult');
            resultDiv.innerHTML = '<span class="info">Ø¯Ø± Ø­Ø§Ù„ ØªØ³Øª Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø­Ù…Ù„...</span>';
            
            try {
                // Test with Erbil to Baghdad route (has intercity bus)
                const testRequest = {
                    cart: [
                        {
                            product: {
                                id: 28,
                                name: "Solvant 402",
                                isFlammable: true,
                                weightKg: 25
                            },
                            quantity: 1
                        }
                    ],
                    destination: {
                        city: "Ø¨ØºØ¯Ø§Ø¯",
                        province: "Ø¨ØºØ¯Ø§Ø¯"
                    },
                    origin: {
                        city: "Ø§Ø±Ø¨ÛŒÙ„",
                        province: "Ø§Ø±Ø¨ÛŒÙ„"
                    }
                };
                
                const result = await makeRequest('/api/calculate-delivery-cost', {
                    method: 'POST',
                    body: JSON.stringify(testRequest)
                });
                
                testResults.deliveryCost = { success: true, data: result };
                
                resultDiv.innerHTML = `
<span class="success">âœ… Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø­Ù…Ù„ Ù…ÙˆÙÙ‚</span>

ğŸšš <strong>Ø¬Ø²Ø¦ÛŒØ§Øª Ø­Ù…Ù„:</strong>
â€¢ Ù…Ø³ÛŒØ±: ${result.route || 'Ø§Ø±Ø¨ÛŒÙ„ â†’ Ø¨ØºØ¯Ø§Ø¯'}
â€¢ ÙˆØ²Ù†: 25 Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…
â€¢ Ø­Ø§ÙˆÛŒ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§: ${result.containsFlammableProducts ? 'ğŸ”¥ Ø¨Ù„Ù‡' : 'â„ï¸ Ø®ÛŒØ±'}
â€¢ Ø±ÙˆØ´ Ø­Ù…Ù„: ${result.transportMethod || result.selectedMethod || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
â€¢ Ù‡Ø²ÛŒÙ†Ù‡ Ú©Ù„: ${(result.totalCost || 0).toLocaleString()} Ø¯ÛŒÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÛŒ
â€¢ ÙØ§ØµÙ„Ù‡: ${result.distance || 'Ù†Ø§Ù…Ø´Ø®Øµ'} Ú©ÛŒÙ„ÙˆÙ…ØªØ±

${result.advantages ? `
ğŸ“‹ <strong>Ù…Ø²Ø§ÛŒØ§:</strong>
${result.advantages.map(adv => `â€¢ ${adv}`).join('\n')}
` : ''}

${result.transportMethod === 'intercity_bus' ? 
    '<span class="error">âš ï¸ Ø§ØªÙˆØ¨ÙˆØ³ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯ - Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ¯Ø±Ùˆ Ù…Ø¬Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯</span>' : 
    '<span class="success">âœ… Ø®ÙˆØ¯Ø±Ùˆ Ù…Ø¬Ø§Ø² Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯</span>'
}
                `;
                
            } catch (error) {
                testResults.deliveryCost = { success: false, error: error.message };
                resultDiv.innerHTML = `<span class="error">âŒ Ø®Ø·Ø§ Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡: ${error.message}</span>`;
            }
        }

        async function runCompleteTest() {
            const resultDiv = document.getElementById('completeTestResult');
            resultDiv.innerHTML = '<span class="info">Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ú©Ø§Ù…Ù„...</span>';
            
            try {
                // Run all tests sequentially
                await testCurrentProduct();
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                await testFlammableDetection();
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                await testDeliveryCostFlammable();
                
                // Analyze results
                const allTestsPassed = Object.values(testResults).every(result => result?.success);
                
                testResults.endToEnd = { success: allTestsPassed, timestamp: new Date().toISOString() };
                
                resultDiv.innerHTML = `
<span class="success">âœ… ØªØ³Øª Ú©Ø§Ù…Ù„ End-to-End Ø§Ø¬Ø±Ø§ Ø´Ø¯</span>

ğŸ“Š <strong>Ø®Ù„Ø§ØµÙ‡ Ù†ØªØ§ÛŒØ¬:</strong>
${Object.entries(testResults).map(([test, result]) => {
    if (!result) return `â€¢ ${test}: <span class="warning">Ø§Ø¬Ø±Ø§ Ù†Ø´Ø¯Ù‡</span>`;
    return `â€¢ ${test}: ${result.success ? '<span class="success">Ù…ÙˆÙÙ‚ âœ…</span>' : '<span class="error">Ù†Ø§Ù…ÙˆÙÙ‚ âŒ</span>'}`;
}).join('\n')}

ğŸ”— <strong>ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Ø³ÛŒØ³ØªÙ…:</strong>
${allTestsPassed ? 
    `<span class="success">ğŸ‰ ØªÙ…Ø§Ù… Ù‚Ø³Ù…Øªâ€ŒÙ‡Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:
â€¢ Boolean fields Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ âœ…
â€¢ Ø³ÛŒØ³ØªÙ… ØªØ´Ø®ÛŒØµ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§ ÙØ¹Ø§Ù„ Ø§Ø³Øª âœ…  
â€¢ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø­Ù…Ù„ ØµØ­ÛŒØ­ Ø§Ø³Øª âœ…
â€¢ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ âœ…</span>` :
    `<span class="error">âš ï¸ Ø¨Ø±Ø®ÛŒ Ù…Ø´Ú©Ù„Ø§Øª Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯ - Ù„Ø·ÙØ§Ù‹ Ø¬Ø²Ø¦ÛŒØ§Øª Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</span>`
}
                `;
                
                updateFinalResults();
                
            } catch (error) {
                testResults.endToEnd = { success: false, error: error.message };
                resultDiv.innerHTML = `<span class="error">âŒ Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª Ú©Ø§Ù…Ù„: ${error.message}</span>`;
            }
        }

        function updateFinalResults() {
            const finalDiv = document.getElementById('finalResults');
            
            const successCount = Object.values(testResults).filter(r => r?.success).length;
            const totalTests = Object.keys(testResults).length;
            
            const overallStatus = successCount === totalTests ? 'success' : 
                                 successCount > totalTests / 2 ? 'warning' : 'error';
            
            finalDiv.innerHTML = `
<strong>ğŸ“Š Ø®Ù„Ø§ØµÙ‡ Ú©Ù„ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§:</strong>

ğŸ¯ <strong>Ù†Ø±Ø® Ù…ÙˆÙÙ‚ÛŒØª:</strong> ${successCount}/${totalTests} (${Math.round(successCount/totalTests*100)}%)

${overallStatus === 'success' ? 
    `<span class="success">ğŸ‰ Ø³ÛŒØ³ØªÙ… Boolean Fields Ú©Ø§Ù…Ù„Ø§Ù‹ ØªØ¹Ù…ÛŒØ± Ø´Ø¯!

âœ… Ù…Ø´Ú©Ù„Ø§Øª Ø¨Ø±Ø·Ø±Ù Ø´Ø¯Ù‡:
â€¢ Ø®Ø·Ø§Ù‡Ø§ÛŒ TypeScript (65 â†’ 0) Ø¨Ø±Ø·Ø±Ù Ø´Ø¯
â€¢ cacheTime Ø¨Ù‡ gcTime ØªØºÛŒÛŒØ± Ú©Ø±Ø¯  
â€¢ form schema Ùˆ type Ù…Ø·Ø§Ø¨Ù‚Øª Ø¯Ø§Ø±Ù†Ø¯
â€¢ Boolean fields Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
â€¢ Ø³ÛŒØ³ØªÙ… Ø§ÛŒÙ…Ù†ÛŒ Ù…ÙˆØ§Ø¯ Ø¢ØªØ´â€ŒØ²Ø§ ÙØ¹Ø§Ù„ Ø§Ø³Øª

ğŸš€ Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ø±Ø§ Ø¨Ø¯ÙˆÙ† Ù…Ø´Ú©Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯!</span>` :
    
    `<span class="error">âš ï¸ Ù‡Ù†ÙˆØ² Ø¨Ø±Ø®ÛŒ Ù…Ø´Ú©Ù„Ø§Øª ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯:
â€¢ ${4-successCount} ØªØ³Øª Ù†Ø§Ù…ÙˆÙÙ‚
â€¢ Ù„Ø·ÙØ§Ù‹ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ø§Ù„Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</span>`
}

<strong>ğŸ• Ø²Ù…Ø§Ù† ØªØ³Øª:</strong> ${new Date().toLocaleString('fa-IR')}
            `;
        }

        // Auto-run initial test on page load
        window.onload = function() {
            setTimeout(testCurrentProduct, 1000);
        };
    </script>
</body>
</html>